<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>æ…¢å•¡æ—…</title>
  <style>
    body {
      font-family: "Noto Sans TC", sans-serif;
      background: #f5eee6;
      margin: 0;
    }
    .wrapper {
      max-width: 1000px;
      margin: 0 auto;
      padding: 40px 20px;
      text-align: center;
    }
    .search-bar {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
    }
    .search-input {
      padding: 10px;
      font-size: 16px;
      width: 100%;
      max-width: 400px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    .confirm-btn {
      padding: 10px 16px;
      background: #0091ff;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .clear-btn {
      padding: 8px 10px;
      font-size: 18px;
      background: #2d8b2a;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      width: 150px;
      height: 42px;
    }
    .filter-bar {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 20px;
    }
    .dropdown {
      position: relative;
      min-width: 160px;
    }
    .dropdown-button {
      width: 200px;
      font-size: 18px;
      padding: 8px 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
      background-color: #5C4033;
      color: white;
      cursor: pointer;
      text-align: center;
    }
    .dropdown-menu {
      display: none;
      position: absolute;
      top: 110%;
      left: 0;
      right: 0;
      background: white;
      border: 1px solid #ccc;
      border-radius: 6px;
      padding: 10px;
      z-index: 10;
      text-align: left;
      width: 100%;
    }
    .dropdown-menu label {
      display: block;
      padding: 4px 0;
    }
    .dropdown-menu input[type="checkbox"] {
      margin-right: 6px;
    }
    .card-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }
    .card {
      background: white;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }
    .card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
    }
    .card-content {
      padding: 10px 14px;
      text-align: left;
    }
    .card-content h3 {
      margin: 0;
      font-size: 18px;
    }
    .card-content hr {
      width: 100%;
      margin: 10px 0;
      border: none;
      border-top: 1px solid #ccc;
      box-sizing: border-box;
    }
    .tags {
      margin-top: 6px;
    }
    .tag {
      display: inline-block;
      background: #eee;
      color: #333;
      padding: 4px 8px;
      margin: 2px;
      font-size: 12px;
      border-radius: 12px;
    }
    .map-icon {
      display: inline-block;
      margin-left: 6px;
      font-size: 18px;
      text-decoration: none;
      color: #007bff;
    }
    .map-icon:hover {
      color: #0056b3;
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <h2>
      <img src="https://img1.pixhost.to/images/6133/605595350_1.png" alt="æè¿°æ–‡å­—">
    </h2>

    <div class="search-bar">
      <input type="text" id="searchInput" class="search-input" placeholder="è¼¸å…¥åº—åé—œéµå­—æœå°‹..." />
      <button class="confirm-btn" onclick="filterData()">æœå°‹</button>
    </div>

    <div class="filter-bar">
      <!-- åœ°å€ -->
      <div class="dropdown" data-type="area">
        <div class="dropdown-button" onclick="toggleDropdown('area')">æœå°‹åœ°å€</div>
        <div class="dropdown-menu" id="menu-area">
          <label><input type="checkbox" value="å°æ¸¯å€" /> å°æ¸¯å€</label>
        <label><input type="checkbox" value="å‰é®å€" /> å‰é®å€</label>
        <label><input type="checkbox" value="è‹“é›…å€" /> è‹“é›…å€</label>
        <label><input type="checkbox" value="å‰é‡‘å€" /> å‰é‡‘å€</label>
        <label><input type="checkbox" value="æ–°èˆˆå€" /> æ–°èˆˆå€</label>
        <label><input type="checkbox" value="ä¸‰æ°‘å€" /> ä¸‰æ°‘å€</label>
        <label><input type="checkbox" value="é¼“å±±å€" /> é¼“å±±å€</label>
        <label><input type="checkbox" value="é¹½åŸ•å€" /> é¹½åŸ•å€</label>
        <label><input type="checkbox" value="é³³å±±å€" /> é³³å±±å€</label>
        <label><input type="checkbox" value="å·¦ç‡Ÿå€" /> å·¦ç‡Ÿå€</label>
        <label><input type="checkbox" value="ä»æ­¦å€" /> ä»æ­¦å€</label>
        <label><input type="checkbox" value="æ¥ æ¢“å€" /> æ¥ æ¢“å€</label>
        <label><input type="checkbox" value="æ©‹é ­å€" /> æ©‹é ­å€</label>
        <label><input type="checkbox" value="å²¡å±±å€" /> å²¡å±±å€</label>
          <button class="confirm-btn" onclick="confirmSelection('area')">ç¢ºèª</button>
        </div>
      </div>

      <!-- ç‡Ÿæ¥­æ™‚é–“ -->
      <div class="dropdown" data-type="style">
        <div class="dropdown-button" onclick="toggleDropdown('style')">ç‡Ÿæ¥­æ™‚é–“</div>
        <div class="dropdown-menu" id="menu-style">
          <label><input type="checkbox" value="æ¯å¤©" /> æ¯å¤©</label>
          <label><input type="checkbox" value="æ˜ŸæœŸä¸€" /> æ˜ŸæœŸä¸€</label>
          <label><input type="checkbox" value="æ˜ŸæœŸäºŒ" /> æ˜ŸæœŸäºŒ</label>
          <label><input type="checkbox" value="æ˜ŸæœŸä¸‰" /> æ˜ŸæœŸä¸‰</label>
          <label><input type="checkbox" value="æ˜ŸæœŸå››" /> æ˜ŸæœŸå››</label>
          <label><input type="checkbox" value="æ˜ŸæœŸäº”" /> æ˜ŸæœŸäº”</label>
          <label><input type="checkbox" value="æ˜ŸæœŸå…­" /> æ˜ŸæœŸå…­</label>
          <label><input type="checkbox" value="æ˜ŸæœŸæ—¥" /> æ˜ŸæœŸæ—¥</label>
          <button class="confirm-btn" onclick="confirmSelection('style')">ç¢ºèª</button>
        </div>
      </div>

      <!-- æœå‹™åŠŸèƒ½ -->
      <div class="dropdown" data-type="feature">
        <div class="dropdown-button" onclick="toggleDropdown('feature')">æœå‹™åŠŸèƒ½</div>
        <div class="dropdown-menu" id="menu-feature">
          <label><input type="checkbox" value="æ’åº§" /> æ’åº§</label>
          <label><input type="checkbox" value="Wi-Fi" /> Wi-Fi</label>
          <label><input type="checkbox" value="ä¸é™æ™‚" /> ä¸é™æ™‚</label>
          <button class="confirm-btn" onclick="confirmSelection('feature')">ç¢ºèª</button>
        </div>
      </div>

      <button class="clear-btn" onclick="clearFilters()">æ¸…ç©ºå…¨éƒ¨ç¯©é¸</button>
    </div>

    <div id="result-count"></div>
    <div class="card-container" id="card-container"></div>
  </div>

  <script>
    const rawData = [
      {
        name: "æ²³æ˜ å’–å•¡",
        area: "ä¸‰æ°‘å€",
        style: ["æ¯å¤©"],
        feature: ["Wi-Fi", "æ’åº§", "ä¸é™æ™‚"],
        address: "é«˜é›„å¸‚ä¸‰æ°‘å€å»ºå·¥è·¯318è™Ÿ",
        mapUrl: "https://reurl.cc/aejdK4",
        image: "https://i.ibb.co/cctb2v1z/image.png"
      },
      {
        name: "å’Œå¥½çˆç²åº—",
        area: "ä¸‰æ°‘å€",
        style: ["æ˜ŸæœŸäºŒ","æ˜ŸæœŸä¸‰","æ˜ŸæœŸå››","æ˜ŸæœŸäº”","æ˜ŸæœŸå…­","æ˜ŸæœŸæ—¥"],
        feature: ["Wi-Fi", "æ’åº§", "ä¸é™æ™‚"],
        address: "é«˜é›„å¸‚ä¸‰æ°‘å€å»¶å‰è¡—67è™Ÿ",
        mapUrl: "https://reurl.cc/nmjv8l",
        image: "https://i.ibb.co/rKSbRXSt/image.jpg"
      },
      {
        name: "é¦¤å’–å•¡",
        area: "å·¦ç‡Ÿå€",
        style: ["æ˜ŸæœŸä¸€","æ˜ŸæœŸäºŒ","æ˜ŸæœŸä¸‰","æ˜ŸæœŸäº”","æ˜ŸæœŸå…­","æ˜ŸæœŸæ—¥"],
        feature: ["Wi-Fi", "æ’åº§", "ä¸é™æ™‚"],
        address: "é«˜é›„å¸‚å·¦ç‡Ÿå€æ–‡æ…ˆè·¯75è™Ÿ",
        mapUrl: "https://reurl.cc/lzjy1A",
        image: "https://i.ibb.co/CT6GGpH/image.jpg"
      },
      {
        name: "è€€cafÃ©",
        area: "æ¥ æ¢“å€",
        style: ["æ˜ŸæœŸä¸€","æ˜ŸæœŸä¸‰","æ˜ŸæœŸå››","æ˜ŸæœŸäº”","æ˜ŸæœŸå…­","æ˜ŸæœŸæ—¥"],
        feature: ["Wi-Fi", "æ’åº§", "ä¸é™æ™‚"],
        address: "é«˜é›„å¸‚æ¥ æ¢“å€è»æ ¡è·¯516è™Ÿ",
        mapUrl: "https://reurl.cc/QYkVXZ",
        image: "https://imageproxy.pixnet.cc/imgproxy?url=https://pic.pimg.tw/sunyat/1509451110-183763571_n.jpg"
      },
      {
        name: "äºŒæœ¨å’–å•¡",
        area: "ä¸‰æ°‘å€",
        style: ["æ¯å¤©"],
        feature: ["æ’åº§", "ä¸é™æ™‚"],
        address: "é«˜é›„å¸‚ä¸‰æ°‘å€å‰æ—è¡—149è™Ÿ",
        mapUrl: "https://reurl.cc/VYvmzy",
        image: "https://i.ibb.co/vxs9SD48/image.jpg"
      },
      {
        name: "å¥½ä¹…ä¸è¦‹å’–å•¡",
        area: "è‹“é›…å€",
        style: ["æ˜ŸæœŸäºŒ","æ˜ŸæœŸä¸‰","æ˜ŸæœŸå››","æ˜ŸæœŸäº”","æ˜ŸæœŸå…­","æ˜ŸæœŸæ—¥"],
        feature: ["Wi-Fi","æ’åº§", "ä¸é™æ™‚"],
        address: "é«˜é›„å¸‚è‹“é›…å€æˆåŠŸä¸€è·¯150è™Ÿ",
        mapUrl: "https://reurl.cc/W0Z8Mk",
        image: "https://i.ibb.co/fzCwJjx2/image.jpg"
      }
    ];

    const selectedFilters = { area: [], style: [], feature: [] };

    function toggleDropdown(type) {
      document.querySelectorAll('.dropdown-menu').forEach(menu => {
        if (menu.id !== `menu-${type}`) menu.style.display = 'none';
      });
      const menu = document.getElementById(`menu-${type}`);
      menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
    }

    function confirmSelection(type) {
      const checkboxes = document.querySelectorAll(`#menu-${type} input[type="checkbox"]`);
      selectedFilters[type] = Array.from(checkboxes).filter(c => c.checked).map(c => c.value);
      updateButtonLabel(type);
      document.getElementById(`menu-${type}`).style.display = 'none';
      filterData();
    }

    function updateButtonLabel(type) {
      const btn = document.querySelector(`.dropdown[data-type="${type}"] .dropdown-button`);
      const selected = selectedFilters[type];
      btn.textContent = selected.length
        ? selected.join(", ")
        : { area: "æœå°‹åœ°å€", style: "ç‡Ÿæ¥­æ™‚é–“", feature: "æœå‹™åŠŸèƒ½" }[type];
    }

    function clearFilters() {
      ["area", "style", "feature"].forEach(type => {
        selectedFilters[type] = [];
        const checkboxes = document.querySelectorAll(`#menu-${type} input[type="checkbox"]`);
        checkboxes.forEach(cb => cb.checked = false);
        updateButtonLabel(type);
      });
      document.getElementById("searchInput").value = "";
      filterData();
    }

    function filterData() {
      const keyword = document.getElementById("searchInput")?.value?.toLowerCase() || "";
      const filtered = rawData.filter(item => {
        return (!selectedFilters.area.length || selectedFilters.area.includes(item.area)) &&
               (!selectedFilters.style.length || selectedFilters.style.some(s => item.style.includes(s))) &&
               (!selectedFilters.feature.length || selectedFilters.feature.some(f => item.feature.includes(f))) &&
               item.name.toLowerCase().includes(keyword);
      });
      renderCards(filtered);
    }

    function renderCards(data) {
      const container = document.getElementById("card-container");
      const countDiv = document.getElementById("result-count");
      countDiv.textContent = `å…±æœ‰ ${data.length} é–“ç¬¦åˆæ¢ä»¶çš„å’–å•¡å»³`;

      container.innerHTML = data.map(item => `
        <div class="card">
          <img src="${item.image}" alt="${item.name}">
          <div class="card-content">
            <h3>${item.name}</h3>
            <hr />
            <div><strong>åœ°å€ï¼š</strong>${item.area}</div>
            <hr />
            <div><strong>æœå‹™åŠŸèƒ½ï¼š</strong><br />
              <div class="tags">
                ${item.feature.map(f => `<span class="tag">${f}</span>`).join('')}
              </div>
            </div>
            <hr />
            <div><strong>ç‡Ÿæ¥­æ™‚é–“ï¼š</strong><br />
              <div class="tags">
                ${item.style.map(s => `<span class="tag">${s}</span>`).join('')}
              </div>
            </div>
            <hr />
            <div><strong>åœ°å€ï¼š</strong>${item.address}
              <a class="map-icon" href="${item.mapUrl}" target="_blank" title="æŸ¥çœ‹åœ°åœ–">ğŸ“</a>
            </div>
          </div>
        </div>
      `).join('');
    }

    renderCards(rawData);

    window.onclick = function(e) {
      if (!e.target.closest('.dropdown')) {
        document.querySelectorAll('.dropdown-menu').forEach(menu => menu.style.display = 'none');
      }
    };
  </script>
</body>
</html>
